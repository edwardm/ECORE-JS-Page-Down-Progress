/*! project-name v0.0.1 | (c) 2020 YOUR NAME | MIT License | http://link-to-your-git-repo.com */
let viewportWidth,viewportHeight,windowHeight,windowScrollOffset,ecoreProgressBarHeight,ecoreSectionsCount,ecoreSectionOffsetTop,ecoreProgressBarBg,ecoreNavTarget,ecoreSectionTitle,ecoreSectionClass=".ecore-section",ecoreTitleClass=".ecore-title",ecoreProgressClass=".ecore-progress";function ecoreProgressNav(){viewportHeight=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),windowHeight=Math.max(document.documentElement.scrollHeight),viewportWidth=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),console.log("viewportHeight: "+viewportHeight+", windowHeight: "+windowHeight+", viewportWidth: "+viewportWidth),window.addEventListener("scroll",(function(){ecoreProgressBar()})),ecoreProgressBarHeight=document.querySelector(ecoreProgressClass).offsetHeight,console.log("ecoreProgressBarHeight: "+ecoreProgressBarHeight),ecoreSectionsCount=document.querySelectorAll(".ecore-section").length,console.log("ecoreSectionsCount: "+ecoreSectionsCount),document.querySelectorAll(ecoreSectionClass).forEach((e,o)=>{e.setAttribute("data-ecore-section","ecore-section-"+o)});const e=document.querySelectorAll(".ecore-section");for(const[o,t]of e.entries())(ecoreNavTarget=document.querySelector(ecoreProgressClass+" > nav")).append(document.createElement("a")),ecoreSectionTitle=t.querySelector(ecoreTitleClass).innerHTML,ecoreSectionOffsetTop=t.offsetTop,console.log("data-ecore-section-"+[o+1]+" top offset: "+ecoreSectionOffsetTop),ecoreBuildNav(o,document.querySelectorAll(".ecore-progress > nav > a:nth-child("+[o+1]+")"))}function ecoreProgressBar(){windowScrollOffset=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,(ecoreProgressBarBg=document.querySelector(".ecore-progress-bg")).style.height=windowScrollOffset/windowHeight/Math.pow(10,-2)+4+"%"}function ecoreBuildNav(e,o){o.forEach(o=>{o.setAttribute("data-ecore-section","ecore-section-"+[e+1]),o.setAttribute("aria-label",ecoreSectionTitle),o.setAttribute("data-offset",ecoreSectionOffsetTop),o.innerHTML="<span>"+ecoreSectionTitle+"</span>",o.style.top=ecoreSectionOffsetTop/windowHeight/Math.pow(10,-2)+"%",o.addEventListener("click",e=>{console.log(o.getAttribute("data-ecore-section"),o.getAttribute("data-offset")),window.scrollTo({top:o.getAttribute("data-offset")-150,behavior:"smooth"})})})}ecoreProgressNav(),ecoreProgressBar(),window.addEventListener("resize",(function(){ecoreProgressNav(),ecoreProgressBar()}));