/*! project-name v0.0.1 | (c) 2020 YOUR NAME | MIT License | http://link-to-your-git-repo.com */
let viewportWidth,viewportHeight,windowHeight,windowScrollOffset,ecoreProgressBarHeight,ecoreSectionsCount,ecoreSectionOffsetTop,ecoreProgressBarBg,ecoreNavTarget,ecoreSectionClass=".ecore-section",ecoreTitleClass=".ecore-title",ecoreProgressClass=".ecore-progress";function ecoreProgressNav(){viewportHeight=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),windowHeight=Math.max(document.documentElement.scrollHeight),viewportWidth=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),console.log("viewportHeight: "+viewportHeight+", windowHeight: "+windowHeight+", viewportWidth: "+viewportWidth),window.addEventListener("scroll",(function(){ecoreProgressBar()}),!1),ecoreProgressBarHeight=document.querySelector(ecoreProgressClass).offsetHeight,console.log("ecoreProgressBarHeight: "+ecoreProgressBarHeight),ecoreSectionsCount=document.querySelectorAll(".ecore-section").length,console.log("ecoreSectionsCount: "+ecoreSectionsCount),document.querySelectorAll(ecoreSectionClass).forEach((e,o)=>{e.setAttribute("data-ecore-section","ecore-section-"+o)});const e=document.querySelectorAll(".ecore-section");for(const[o,t]of e.entries()){(ecoreNavTarget=document.querySelector(ecoreProgressClass+" > nav")).append(document.createElement("a"));let e=t.querySelector(ecoreTitleClass).innerHTML;ecoreSectionOffsetTop=t.offsetTop,console.log("data-ecore-section-"+[o+1]+" top offset: "+ecoreSectionOffsetTop),document.querySelectorAll(".ecore-progress > nav > a:nth-child("+[o+1]+")").forEach(t=>{t.setAttribute("data-ecore-section","ecore-section-"+[o+1]),t.setAttribute("aria-label",e),t.setAttribute("data-offset",ecoreSectionOffsetTop),t.innerHTML="<span>"+e+"</span>",t.style.top=ecoreSectionOffsetTop/windowHeight/Math.pow(10,-2)+"%",t.addEventListener("click",e=>{console.log(t.getAttribute("data-ecore-section"),t.getAttribute("data-offset")),window.scrollTo({top:t.getAttribute("data-offset")-150,behavior:"smooth"})})})}}function ecoreProgressBar(){windowScrollOffset=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,(ecoreProgressBarBg=document.querySelector(".ecore-progress-bg")).style.height=windowScrollOffset/windowHeight/Math.pow(10,-2)+4+"%"}ecoreProgressNav(),ecoreProgressBar(),window.addEventListener("resize",(function(){ecoreProgressNav(),ecoreProgressBar()}));